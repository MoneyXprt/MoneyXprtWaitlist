(()=>{var e={};e.id=178,e.ids=[178],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},5533:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(4591),r(3976),r(6083),r(5866);var s=r(3191),l=r(8716),a=r(7922),i=r.n(a),n=r(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4591)),"/Users/ianjoachim/Documents/GitHub/MoneyXprt/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3976)),"/Users/ianjoachim/Documents/GitHub/MoneyXprt/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,6083)),"/Users/ianjoachim/Documents/GitHub/MoneyXprt/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ianjoachim/Documents/GitHub/MoneyXprt/app/profile/page.tsx"],u="/profile/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8612:(e,t,r)=>{Promise.resolve().then(r.bind(r,9776))},9776:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(326),l=r(7577),a=r(5047),i=r(5472),n=r(6234),o=r(772),d=r(4432),c=r(2643),u=r(3273);function m(){let{user:e,loading:t}=(0,n.k)(),r=(0,a.useRouter)(),[m,p]=(0,l.useState)(null),[x,f]=(0,l.useState)(!0),[h,g]=(0,l.useState)(!1),[b,y]=(0,l.useState)(!1),[v,j]=(0,l.useState)(null),[N,k]=(0,l.useState)({fullName:"",incomeRange:"",entityType:""});async function w(){if(e)try{let{data:t,error:r}=await i.OQ.from("profiles").select("*").eq("id",e.id).single();if(r&&"PGRST116"!==r.code){console.error("Profile fetch error:",r),j("Failed to load profile");return}t&&(p(t),k({fullName:t.full_name||"",incomeRange:t.income_range||"",entityType:t.entity_type||""}))}catch(e){console.error("Profile fetch failed:",e),j("Failed to load profile")}finally{f(!1)}}async function P(t){if(t.preventDefault(),e&&!h){g(!0),j(null),y(!1);try{let{error:t}=await i.OQ.from("profiles").upsert({id:e.id,full_name:N.fullName,income_range:N.incomeRange,entity_type:N.entityType});if(t)throw t;y(!0),await w()}catch(e){console.error("Profile update failed:",e),j("Failed to update profile: "+(e.message||"Unknown error"))}finally{g(!1)}}}return t||x?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading profile..."})]})}):e?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>r.back(),className:"text-gray-600 hover:text-gray-900",children:"← Back"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"})]}),s.jsx("button",{onClick:()=>r.push("/dashboard"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Dashboard"})]})})}),(0,s.jsxs)("main",{className:"max-w-2xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[b&&s.jsx(u.bZ,{className:"mb-6 bg-green-50 border-green-200",children:s.jsx(u.X,{className:"text-green-800",children:"✓ Profile updated successfully!"})}),v&&s.jsx(u.bZ,{variant:"destructive",className:"mb-6",children:s.jsx(u.X,{children:v})}),(0,s.jsxs)(c.Zb,{children:[(0,s.jsxs)(c.Ol,{children:[s.jsx(c.ll,{children:"Update Your Profile"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Keep your information current for personalized financial advice."})]}),s.jsx(c.aY,{children:(0,s.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx(d.I,{id:"email",type:"email",value:e.email||"",disabled:!0,className:"bg-gray-50"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed. Contact support if needed."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx(d.I,{id:"fullName",type:"text",required:!0,value:N.fullName,onChange:e=>k(t=>({...t,fullName:e.target.value})),placeholder:"Enter your full name"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"incomeRange",className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Income Range"}),(0,s.jsxs)("select",{id:"incomeRange",required:!0,value:N.incomeRange,onChange:e=>k(t=>({...t,incomeRange:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[s.jsx("option",{value:"",children:"Select income range"}),s.jsx("option",{value:"100k-250k",children:"$100k - $250k"}),s.jsx("option",{value:"250k-500k",children:"$250k - $500k"}),s.jsx("option",{value:"500k-1m",children:"$500k - $1M"}),s.jsx("option",{value:"1m-plus",children:"$1M+"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"entityType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Entity Type"}),(0,s.jsxs)("select",{id:"entityType",required:!0,value:N.entityType,onChange:e=>k(t=>({...t,entityType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500",children:[s.jsx("option",{value:"",children:"Select entity type"}),s.jsx("option",{value:"individual",children:"Individual"}),s.jsx("option",{value:"sole-proprietor",children:"Sole Proprietor"}),s.jsx("option",{value:"llc",children:"LLC"}),s.jsx("option",{value:"s-corp",children:"S-Corp"}),s.jsx("option",{value:"c-corp",children:"C-Corp"})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[s.jsx(o.z,{type:"submit",disabled:h,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:h?"Updating...":"Update Profile"}),s.jsx(o.z,{type:"button",variant:"outline",onClick:()=>r.push("/dashboard"),className:"flex-1",children:"Cancel"})]})]})})]}),(0,s.jsxs)(c.Zb,{className:"mt-6",children:[s.jsx(c.Ol,{children:s.jsx(c.ll,{className:"text-red-600",children:"Account Actions"})}),s.jsx(c.aY,{children:s.jsx("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Sign Out"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Sign out of your account"})]}),s.jsx(o.z,{variant:"outline",onClick:()=>r.push("/logout"),children:"Sign Out"})]})})})]})]})]}):null}},3273:(e,t,r)=>{"use strict";r.d(t,{X:()=>d,bZ:()=>o});var s=r(326),l=r(7577),a=r(9360),i=r(7863);let n=(0,a.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=l.forwardRef(({className:e,variant:t,...r},l)=>s.jsx("div",{ref:l,role:"alert",className:(0,i.cn)(n({variant:t}),e),...r}));o.displayName="Alert",l.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let d=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...t}));d.displayName="AlertDescription"},4432:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var s=r(326),l=r(7577),a=r(7863);let i=l.forwardRef(({className:e,type:t,...r},l)=>s.jsx("input",{type:t,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...r}));i.displayName="Input"},5472:(e,t,r)=>{"use strict";r.d(t,{OQ:()=>s});let s=(0,r(7939).eI)("http://localhost:54321","dummy-key")},6234:(e,t,r)=>{"use strict";r.d(t,{k:()=>l});var s=r(7577);function l(){let[e,t]=(0,s.useState)(null),[r,l]=(0,s.useState)(!0);return{user:e,loading:r}}r(5472)},4591:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/ianjoachim/Documents/GitHub/MoneyXprt/app/profile/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,920,382],()=>r(5533));module.exports=s})();